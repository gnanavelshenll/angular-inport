(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/platform-browser"),require("@angular/router"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/platform-browser","@angular/router","rxjs/add/operator/filter","rxjs/add/operator/map"],e):"object"==typeof exports?exports["ng2-metadata"]=e(require("@angular/core"),require("@angular/platform-browser"),require("@angular/router"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map")):t["ng2-metadata"]=e(t["@angular/core"],t["@angular/platform-browser"],t["@angular/router"],t["rxjs/add/operator/filter"],t["rxjs/add/operator/map"])})(this,function(t,e,a,r,i){return function(t){function e(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,r){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=8)}([function(t,e,a){"use strict";var r=a(4),i=(a.n(r),a(2)),n=(a.n(i),a(5)),o=(a.n(n),a(6)),s=(a.n(o),a(7)),u=(a.n(s),a(1));a.d(e,"a",function(){return f}),a.d(e,"b",function(){return p}),a.d(e,"c",function(){return g});var l=this&&this.__decorate||function(t,e,a,r){var i,n=arguments.length,o=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,a,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n<3?i(o):n>3?i(e,a,o):i(e,a))||o);return n>3&&o&&Object.defineProperty(e,a,o),o},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=this&&this.__param||function(t,e){return function(a,r){e(a,r,t)}},f=function(){function t(){}return t}(),p=function(){function t(t){void 0===t&&(t={pageTitlePositioning:u.a.PrependPageTitle,defaults:{}}),this.metadataSettings=t}return t.prototype.getSettings=function(){return this.metadataSettings},t}(),g=function(){function t(t,e,a,r,i){var o=this;this.router=t,this.document=e,this.titleService=a,this.activatedRoute=r,this.loader=i,this.metadataSettings=i.getSettings(),this.isMetadataSet={},this.router.events.filter(function(t){return t instanceof n.NavigationEnd}).subscribe(function(t){for(var e=o.activatedRoute;e.children.length>0;)if(e=e.firstChild,e.snapshot.routeConfig.data){var a=e.snapshot.routeConfig.data.metadata;a&&o.updateMetadata(a,t.url)}})}return t.prototype.setTitle=function(t,e){void 0===e&&(e=!1);var a=this.getOrCreateMetaTag("og:title");switch(this.metadataSettings.pageTitlePositioning){case u.a.AppendPageTitle:t=(!e&&this.metadataSettings.pageTitleSeparator&&this.metadataSettings.applicationName?this.metadataSettings.applicationName+this.metadataSettings.pageTitleSeparator:"")+(t?t:this.metadataSettings.defaults.title||"");break;case u.a.PrependPageTitle:t=(t?t:this.metadataSettings.defaults.title||"")+(!e&&this.metadataSettings.pageTitleSeparator&&this.metadataSettings.applicationName?this.metadataSettings.pageTitleSeparator+this.metadataSettings.applicationName:"");break;default:throw new Error("Error: Invalid pageTitlePositioning specified ["+this.metadataSettings.pageTitlePositioning+"]!")}t||console.warn('WARNING: No "page title" specified.'),a.setAttribute("content",t),this.titleService.setTitle(t)},t.prototype.setTag=function(t,e){if("title"===t)throw new Error("Error: Attempt to set "+t+" through 'setTag': 'title' is a reserved tag name. Please use 'MetadataService.setTitle' instead.");e=e?e:this.metadataSettings.defaults?this.metadataSettings.defaults[t]:"";var a=this.getOrCreateMetaTag(t);if(a.setAttribute("content","og:locale"===t?e.replace(/-/g,"_"):e),this.isMetadataSet[t]=!0,"description"===t){var r=this.getOrCreateMetaTag("og:description");r.setAttribute("content",e)}else if("author"===t){var i=this.getOrCreateMetaTag("og:author");i.setAttribute("content",e)}else if("publisher"===t){var n=this.getOrCreateMetaTag("og:publisher");n.setAttribute("content",e)}else if("og:locale"===t){var o=this.metadataSettings.defaults?this.metadataSettings.defaults["og:locale:alternate"]:"";this.updateLocales(e,o),this.isMetadataSet["og:locale:alternate"]=!0}else if("og:locale:alternate"===t){var s=this.getOrCreateMetaTag("og:locale"),u=s.getAttribute("content");this.updateLocales(u,e),this.isMetadataSet["og:locale"]=!0}},t.prototype.createMetaTag=function(t){var e=this.document.createElement("meta");return e.setAttribute(0===t.lastIndexOf("og:",0)?"property":"name",t),this.document.head.appendChild(e),e},t.prototype.getOrCreateMetaTag=function(t){var e='meta[name="'+t+'"]';0===t.lastIndexOf("og:",0)&&(e='meta[property="'+t+'"]');var a=this.document.querySelector(e);return a||(a=this.createMetaTag(t)),a},t.prototype.updateLocales=function(t,e){var a=this;t||(t=this.metadataSettings.defaults?this.metadataSettings.defaults["og:locale"]:"");var r=this.document.querySelector("html");r.setAttribute("lang",t);var i='meta[property="og:locale:alternate"]',n=this.document.querySelectorAll(i);n=Array.prototype.slice.call(n),n.forEach(function(t){a.document.head.removeChild(t)}),t&&e&&e.split(",").forEach(function(e){if(t!==e){var r=a.createMetaTag("og:locale:alternate");r.setAttribute("content",e.replace(/-/g,"_"))}})},t.prototype.updateMetadata=function(t,e){var a=this;t.disabled||(this.setTitle(t.title,t.override),Object.keys(t).forEach(function(e){var r=t[e];if("title"!==e&&"override"!==e){if("og:locale"===e)r=r.replace(/-/g,"_");else if("og:locale:alternate"===e){var i=t["og:locale"];return void a.updateLocales(i,t[e])}a.setTag(e,r)}}),this.metadataSettings.defaults&&Object.keys(this.metadataSettings.defaults).forEach(function(e){var r=a.metadataSettings.defaults[e];if(!(e in a.isMetadataSet||e in t||"title"===e||"override"===e)){if("og:locale"===e)r=r.replace(/-/g,"_");else if("og:locale:alternate"===e){var i=t["og:locale"];return void a.updateLocales(i,a.metadataSettings.defaults[e])}a.setTag(e,r)}}),this.setTag("og:url",(this.metadataSettings.applicationUrl||"/")+e.replace(/\/$/g,"")))},t=l([a.i(i.Injectable)(),d(1,a.i(i.Inject)(r.DOCUMENT)),c("design:paramtypes",[n.Router,Object,r.Title,n.ActivatedRoute,f])],t)}()},function(t,e,a){"use strict";a.d(e,"a",function(){return r});var r;(function(t){t[t.AppendPageTitle=0]="AppendPageTitle",t[t.PrependPageTitle=10]="PrependPageTitle"})(r||(r={}))},function(e,a){e.exports=t},function(t,e){},function(t,a){t.exports=e},function(t,e){t.exports=a},function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e,a){"use strict";function r(){return new n.b}Object.defineProperty(e,"__esModule",{value:!0});var i=a(2),n=(a.n(i),a(0)),o=a(1);a.d(e,"PageTitlePositioning",function(){return o.a});var s=a(3);a.n(s);for(var u in s)["PageTitlePositioning","metadataLoaderFactory","MetadataModule","default"].indexOf(u)<0&&function(t){a.d(e,t,function(){return s[t]})}(u);a.d(e,"MetadataLoader",function(){return n.a}),a.d(e,"MetadataStaticLoader",function(){return n.b}),a.d(e,"MetadataService",function(){return n.c}),e.metadataLoaderFactory=r,a.d(e,"MetadataModule",function(){return d});var l=this&&this.__decorate||function(t,e,a,r){var i,n=arguments.length,o=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,a,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n<3?i(o):n>3?i(e,a,o):i(e,a))||o);return n>3&&o&&Object.defineProperty(e,a,o),o},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={provide:n.a,useFactory:r}),{ngModule:t,providers:[e,n.c]}},t=l([a.i(i.NgModule)(),c("design:paramtypes",[])],t)}()}])});