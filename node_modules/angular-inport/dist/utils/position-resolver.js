"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function isPercent(value) {
    return typeof value === 'string' && value.indexOf('%') > -1;
}
function distance(p1, p2) {
    return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));
}
var PositionResolver = (function () {
    function PositionResolver() {
    }
    PositionResolver.getBoundingClientRect = function (element) {
        return element.getBoundingClientRect();
    };
    PositionResolver.isVisible = function (element) {
        return !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);
    };
    PositionResolver.intersectRect = function (r1, r2) {
        return !(r2.left > r1.right ||
            r2.right < r1.left ||
            r2.top > r1.bottom ||
            r2.bottom < r1.top);
    };
    PositionResolver.offsetRect = function (rect, offset) {
        if (!offset) {
            return rect;
        }
        var offsetObject = {
            top: isPercent(offset[0]) ? (parseFloat(offset[0]) * rect.height) : offset[0],
            right: isPercent(offset[1]) ? (parseFloat(offset[1]) * rect.width) : offset[1],
            bottom: isPercent(offset[2]) ? (parseFloat(offset[2]) * rect.height) : offset[2],
            left: isPercent(offset[3]) ? (parseFloat(offset[3]) * rect.width) : offset[3]
        };
        return {
            top: rect.top - offsetObject.top,
            left: rect.left - offsetObject.left,
            bottom: rect.bottom + offsetObject.bottom,
            right: rect.right + offsetObject.right,
            height: rect.height + offsetObject.top + offsetObject.bottom,
            width: rect.width + offsetObject.left + offsetObject.right
        };
    };
    PositionResolver.distance = function (containerRect, elementRect) {
        var middlePointOfContainer = {
            x: containerRect.height / 2,
            y: containerRect.width / 2
        };
        var middlePointOfElement = {
            x: elementRect.top + (elementRect.height / 2),
            y: elementRect.left + (elementRect.width / 2)
        };
        return distance(middlePointOfContainer, middlePointOfElement);
    };
    PositionResolver.inviewPercentage = function (containerRect, elementRect) {
        return {
            top: 100 * elementRect.top / containerRect.top,
            left: 100 * elementRect.left / containerRect.left,
            bottom: 100 * elementRect.bottom / containerRect.bottom,
            right: 100 * elementRect.right / containerRect.right
        };
    };
    PositionResolver.inViewParts = function (containerRect, elementRect) {
        return {
            top: elementRect.top >= containerRect.top,
            left: elementRect.left >= containerRect.left,
            bottom: elementRect.bottom <= containerRect.bottom,
            right: elementRect.right <= containerRect.right
        };
    };
    PositionResolver.isElementOutsideView = function (elementBounds, containersBounds) {
        var outsideAbove = elementBounds.bottom < containersBounds.top;
        var outsideBelow = elementBounds.top > containersBounds.bottom;
        var outsideLeft = elementBounds.right < containersBounds.left;
        var outsideRight = elementBounds.left > containersBounds.right;
        return outsideAbove || outsideBelow || outsideLeft || outsideRight;
    };
    PositionResolver.isElementClipped = function (elementBounds, containersBounds) {
        var clippedAbove = elementBounds.top < containersBounds.top;
        var clippedBelow = elementBounds.bottom > containersBounds.bottom;
        var clippedLeft = elementBounds.left < containersBounds.left;
        var clippedRight = elementBounds.right > containersBounds.right;
        return clippedAbove || clippedBelow || clippedLeft || clippedRight;
    };
    PositionResolver.clippedStatus = function (elementBounds, containersBounds) {
        return {
            isClipped: this.isElementClipped(elementBounds, containersBounds),
            isOutsideView: this.isElementOutsideView(elementBounds, containersBounds)
        };
    };
    return PositionResolver;
}());
exports.PositionResolver = PositionResolver;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9zaXRpb24tcmVzb2x2ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbHMvcG9zaXRpb24tcmVzb2x2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxtQkFBbUIsS0FBVTtJQUMzQixNQUFNLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDOUQsQ0FBQztBQUNELGtCQUFrQixFQUFTLEVBQUUsRUFBUztJQUNwQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hFLENBQUM7QUFDRDtJQUFBO0lBK0ZBLENBQUM7SUE5RlEsc0NBQXFCLEdBQTVCLFVBQTZCLE9BQW9CO1FBQy9DLE1BQU0sQ0FBQyxPQUFPLENBQUMscUJBQXFCLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRU0sMEJBQVMsR0FBaEIsVUFBaUIsT0FBb0I7UUFDbkMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLElBQUksT0FBTyxDQUFDLFlBQVksSUFBSSxPQUFPLENBQUMsY0FBYyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDNUYsQ0FBQztJQUVNLDhCQUFhLEdBQXBCLFVBQXFCLEVBQU8sRUFBRSxFQUFPO1FBQ25DLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsS0FBSztZQUN6QixFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxJQUFJO1lBQ2xCLEVBQUUsQ0FBQyxHQUFH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RyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUM7UUFDcEUsSUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDLElBQUksR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUM7UUFDL0QsSUFBTSxZQUFZLEdBQUcsYUFBYSxDQUFDLEtBQUssR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUM7UUFFbEUsTUFBTSxDQUFDLFlBQVksSUFBSSxZQUFZLElBQUksV0FBVyxJQUFJLFlBQVksQ0FBQztJQUNyRSxDQUFDO0lBQ00sOEJBQWEsR0FBcEIsVUFDRSxhQUF1QyxFQUN2QyxnQkFBMEM7UUFDMUMsTUFBTSxDQUFDO1lBQ0wsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLENBQUM7WUFDakUsYUFBYSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLENBQUM7U0FDMUUsQ0FBQztJQUNKLENBQUM7SUFDSCx1QkFBQztBQUFELENBQUMsQUEvRkQsSUErRkM7QUEvRlksNENBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudEJvdW5kaW5nUG9zaXRpb25zLCBQb2ludCB9IGZyb20gJy4vbW9kZWxzJztcbmZ1bmN0aW9uIGlzUGVyY2VudCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLmluZGV4T2YoJyUnKSA+IC0xO1xufVxuZnVuY3Rpb24gZGlzdGFuY2UocDE6IFBvaW50LCBwMjogUG9pbnQpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwMS54IC0gcDIueCwgMikgKyBNYXRoLnBvdyhwMS55IC0gcDIueSwgMikpO1xufVxuZXhwb3J0IGNsYXNzIFBvc2l0aW9uUmVzb2x2ZXIge1xuICBzdGF0aWMgZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogQ2xpZW50UmVjdCB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH1cblxuICBzdGF0aWMgaXNWaXNpYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgZWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgZWxlbWVudC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG4gIH1cblxuICBzdGF0aWMgaW50ZXJzZWN0UmVjdChyMTogYW55LCByMjogYW55KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEocjIubGVmdCA+IHIxLnJpZ2h0IHx8XG4gICAgICByMi5yaWdodCA8IHIxLmxlZnQgfHxcbiAgICAgIHIyLnRvcCA+IHIxLmJvdHRvbSB8fFxuICAgICAgcjIuYm90dG9tIDwgcjEudG9wKTtcbiAgfVxuXG4gIHN0YXRpYyBvZmZzZXRSZWN0KHJlY3Q6IGFueSwgb2Zmc2V0OiBBcnJheTxhbnk+KTogQ2xpZW50UmVjdCB7XG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIHJldHVybiByZWN0O1xuICAgIH1cbiAgICBsZXQgb2Zmc2V0T2JqZWN0OiBhbnkgPSB7XG4gICAgICB0b3A6IGlzUGVyY2VudChvZmZzZXRbMF0pID8gKHBhcnNlRmxvYXQob2Zmc2V0WzBdKSAqIHJlY3QuaGVpZ2h0KSA6IG9mZnNldFswXSxcbiAgICAgIHJpZ2h0OiBpc1BlcmNlbnQob2Zmc2V0WzFdKSA/IChwYXJzZUZsb2F0KG9mZnNldFsxXSkgKiByZWN0LndpZHRoKSA6IG9mZnNldFsxXSxcbiAgICAgIGJvdHRvbTogaXNQZXJjZW50KG9mZnNldFsyXSkgPyAocGFyc2VGbG9hdChvZmZzZXRbMl0pICogcmVjdC5oZWlnaHQpIDogb2Zmc2V0WzJdLFxuICAgICAgbGVmdDogaXNQZXJjZW50KG9mZnNldFszXSkgPyAocGFyc2VGbG9hdChvZmZzZXRbM10pICogcmVjdC53aWR0aCkgOiBvZmZzZXRbM11cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHJlY3QudG9wIC0gb2Zmc2V0T2JqZWN0LnRvcCxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCAtIG9mZnNldE9iamVjdC5sZWZ0LFxuICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSArIG9mZnNldE9iamVjdC5ib3R0b20sXG4gICAgICByaWdodDogcmVjdC5yaWdodCArIG9mZnNldE9iamVjdC5yaWdodCxcbiAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQgKyBvZmZzZXRPYmplY3QudG9wICsgb2Zmc2V0T2JqZWN0LmJvdHRvbSxcbiAgICAgIHdpZHRoOiByZWN0LndpZHRoICsgb2Zmc2V0T2JqZWN0LmxlZnQgKyBvZmZzZXRPYmplY3QucmlnaHRcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRpc3RhbmNlKGNvbnRhaW5lclJlY3Q6IGFueSwgZWxlbWVudFJlY3Q6IGFueSkge1xuICAgIGxldCBtaWRkbGVQb2ludE9mQ29udGFpbmVyOiBQb2ludCA9IHtcbiAgICAgIHg6IGNvbnRhaW5lclJlY3QuaGVpZ2h0IC8gMixcbiAgICAgIHk6IGNvbnRhaW5lclJlY3Qud2lkdGggLyAyXG4gICAgfTtcbiAgICBsZXQgbWlkZGxlUG9pbnRPZkVsZW1lbnQ6IFBvaW50ID0ge1xuICAgICAgeDogZWxlbWVudFJlY3QudG9wICsgKGVsZW1lbnRSZWN0LmhlaWdodCAvIDIpLFxuICAgICAgeTogZWxlbWVudFJlY3QubGVmdCArIChlbGVtZW50UmVjdC53aWR0aCAvIDIpXG4gICAgfTtcbiAgICByZXR1cm4gZGlzdGFuY2UobWlkZGxlUG9pbnRPZkNvbnRhaW5lciwgbWlkZGxlUG9pbnRPZkVsZW1lbnQpO1xuICB9XG5cbiAgc3RhdGljIGludmlld1BlcmNlbnRhZ2UoY29udGFpbmVyUmVjdDogYW55LCBlbGVtZW50UmVjdDogYW55KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogMTAwICogZWxlbWVudFJlY3QudG9wIC8gY29udGFpbmVyUmVjdC50b3AsXG4gICAgICBsZWZ0OiAxMDAgKiBlbGVtZW50UmVjdC5sZWZ0IC8gY29udGFpbmVyUmVjdC5sZWZ0LFxuICAgICAgYm90dG9tOiAxMDAgKiBlbGVtZW50UmVjdC5ib3R0b20gLyBjb250YWluZXJSZWN0LmJvdHRvbSxcbiAgICAgIHJpZ2h0OiAxMDAgKiBlbGVtZW50UmVjdC5yaWdodCAvIGNvbnRhaW5lclJlY3QucmlnaHRcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGluVmlld1BhcnRzKGNvbnRhaW5lclJlY3Q6IGFueSwgZWxlbWVudFJlY3Q6IGFueSkge1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGVsZW1lbnRSZWN0LnRvcCA+PSBjb250YWluZXJSZWN0LnRvcCxcbiAgICAgIGxlZnQ6IGVsZW1lbnRSZWN0LmxlZnQgPj0gY29udGFpbmVyUmVjdC5sZWZ0LFxuICAgICAgYm90dG9tOiBlbGVtZW50UmVjdC5ib3R0b20gPD0gY29udGFpbmVyUmVjdC5ib3R0b20sXG4gICAgICByaWdodDogZWxlbWVudFJlY3QucmlnaHQgPD0gY29udGFpbmVyUmVjdC5yaWdodFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgaXNFbGVtZW50T3V0c2lkZVZpZXcoXG4gICAgZWxlbWVudEJvdW5kczogRWxlbWVudEJvdW5kaW5nUG9zaXRpb25zLFxuICAgIGNvbnRhaW5lcnNCb3VuZHM6IEVsZW1lbnRCb3VuZGluZ1Bvc2l0aW9ucyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG91dHNpZGVBYm92ZSA9IGVsZW1lbnRCb3VuZHMuYm90dG9tIDwgY29udGFpbmVyc0JvdW5kcy50b3A7XG4gICAgY29uc3Qgb3V0c2lkZUJlbG93ID0gZWxlbWVudEJvdW5kcy50b3AgPiBjb250YWluZXJzQm91bmRzLmJvdHRvbTtcbiAgICBjb25zdCBvdXRzaWRlTGVmdCA9IGVsZW1lbnRCb3VuZHMucmlnaHQgPCBjb250YWluZXJzQm91bmRzLmxlZnQ7XG4gICAgY29uc3Qgb3V0c2lkZVJpZ2h0ID0gZWxlbWVudEJvdW5kcy5sZWZ0ID4gY29udGFpbmVyc0JvdW5kcy5yaWdodDtcbiAgICByZXR1cm4gb3V0c2lkZUFib3ZlIHx8IG91dHNpZGVCZWxvdyB8fCBvdXRzaWRlTGVmdCB8fCBvdXRzaWRlUmlnaHQ7XG5cbiAgfVxuXG4gIHN0YXRpYyBpc0VsZW1lbnRDbGlwcGVkKFxuICAgIGVsZW1lbnRCb3VuZHM6IEVsZW1lbnRCb3VuZGluZ1Bvc2l0aW9ucyxcbiAgICBjb250YWluZXJzQm91bmRzOiBFbGVtZW50Qm91bmRpbmdQb3NpdGlvbnMpOiBib29sZWFuIHtcbiAgICBjb25zdCBjbGlwcGVkQWJvdmUgPSBlbGVtZW50Qm91bmRzLnRvcCA8IGNvbnRhaW5lcnNCb3VuZHMudG9wO1xuICAgIGNvbnN0IGNsaXBwZWRCZWxvdyA9IGVsZW1lbnRCb3VuZHMuYm90dG9tID4gY29udGFpbmVyc0JvdW5kcy5ib3R0b207XG4gICAgY29uc3QgY2xpcHBlZExlZnQgPSBlbGVtZW50Qm91bmRzLmxlZnQgPCBjb250YWluZXJzQm91bmRzLmxlZnQ7XG4gICAgY29uc3QgY2xpcHBlZFJpZ2h0ID0gZWxlbWVudEJvdW5kcy5yaWdodCA+IGNvbnRhaW5lcnNCb3VuZHMucmlnaHQ7XG5cbiAgICByZXR1cm4gY2xpcHBlZEFib3ZlIHx8IGNsaXBwZWRCZWxvdyB8fCBjbGlwcGVkTGVmdCB8fCBjbGlwcGVkUmlnaHQ7XG4gIH1cbiAgc3RhdGljIGNsaXBwZWRTdGF0dXMoXG4gICAgZWxlbWVudEJvdW5kczogRWxlbWVudEJvdW5kaW5nUG9zaXRpb25zLFxuICAgIGNvbnRhaW5lcnNCb3VuZHM6IEVsZW1lbnRCb3VuZGluZ1Bvc2l0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICBpc0NsaXBwZWQ6IHRoaXMuaXNFbGVtZW50Q2xpcHBlZChlbGVtZW50Qm91bmRzLCBjb250YWluZXJzQm91bmRzKSxcbiAgICAgIGlzT3V0c2lkZVZpZXc6IHRoaXMuaXNFbGVtZW50T3V0c2lkZVZpZXcoZWxlbWVudEJvdW5kcywgY29udGFpbmVyc0JvdW5kcylcbiAgICB9O1xuICB9XG59XG4iXX0=